---
import Post from '@/layouts/Post.astro';
import { getEntryBySlug } from 'astro:content';

export const prerender = true;

const { slug } = Astro.params;
const entry = await getEntryBySlug('blog', slug);
if (!entry) {
  // Not found -> back to list
  return Astro.redirect('/');
}

const { Content, data } = await entry.render(); // data = validated frontmatter
---
<Post frontmatter={data}>
  <Content />
</Post>
